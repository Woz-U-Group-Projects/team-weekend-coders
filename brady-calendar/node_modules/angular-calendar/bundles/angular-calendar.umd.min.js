!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("positioning"),require("rxjs"),require("rxjs/operators"),require("calendar-utils"),require("@angular/animations"),require("@angular/common"),require("angular-resizable-element"),require("angular-draggable-droppable"),require("@angular/core")):"function"==typeof define&&define.amd?define("angular-calendar",["exports","positioning","rxjs","rxjs/operators","calendar-utils","@angular/animations","@angular/common","angular-resizable-element","angular-draggable-droppable","@angular/core"],t):t(e["angular-calendar"]={},e.positioning,e.rxjs,e.rxjs.operators,e.calendarUtils,e.ng.animations,e.ng.common,e["angular-resizable-element"],e["angular-draggable-droppable"],e.ng.core)}(this,function(e,t,o,a,n,i,p,r,l,s){"use strict";var d=function(){function e(){this.trackByActionId=function(e,t){return t.id?t.id:t}}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-event-actions",template:'\n    <ng-template\n      #defaultTemplate\n      let-event="event"\n      let-trackByActionId="trackByActionId"\n    >\n      <span *ngIf="event.actions" class="cal-event-actions">\n        <a\n          class="cal-event-action"\n          href="javascript:;"\n          *ngFor="let action of event.actions; trackBy: trackByActionId"\n          (mwlClick)="action.onClick({ event: event })"\n          [ngClass]="action.cssClass"\n          [innerHtml]="action.label"\n        >\n        </a>\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        event: event,\n        trackByActionId: trackByActionId\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={event:[{type:s.Input}],customTemplate:[{type:s.Input}]},e}(),c=function(){function e(){}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-event-title",template:'\n    <ng-template #defaultTemplate let-event="event" let-view="view">\n      <span\n        class="cal-event-title"\n        [innerHTML]="event.title | calendarEventTitle: view:event"\n      >\n      </span>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        event: event,\n        view: view\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={event:[{type:s.Input}],customTemplate:[{type:s.Input}],view:[{type:s.Input}]},e}(),u=function(){function e(){}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-tooltip-window",template:'\n    <ng-template\n      #defaultTemplate\n      let-contents="contents"\n      let-placement="placement"\n      let-event="event"\n    >\n      <div class="cal-tooltip" [ngClass]="\'cal-tooltip-\' + placement">\n        <div class="cal-tooltip-arrow"></div>\n        <div class="cal-tooltip-inner" [innerHtml]="contents"></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        contents: contents,\n        placement: placement,\n        event: event\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={contents:[{type:s.Input}],placement:[{type:s.Input}],event:[{type:s.Input}],customTemplate:[{type:s.Input}]},e}(),v=function(){function e(e,t,n,a,i,r){this.elementRef=e,this.injector=t,this.renderer=n,this.viewContainerRef=i,this.document=r,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new o.Subject,this.tooltipFactory=a.resolveComponentFactory(u)}return e.prototype.ngOnDestroy=function(){this.hide()},e.prototype.onMouseOver=function(){var e=this;(null===this.delay?o.of("now"):o.timer(this.delay)).pipe(a.takeUntil(this.cancelTooltipDelay$)).subscribe(function(){e.show()})},e.prototype.onMouseOut=function(){this.hide()},e.prototype.show=function(){var e=this;!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(function(){e.positionTooltip()}))},e.prototype.hide=function(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()},e.prototype.positionTooltip=function(e){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=t.positionElements(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),e!==this.tooltipRef.instance.placement&&this.positionTooltip(this.tooltipRef.instance.placement))},e.decorators=[{type:s.Directive,args:[{selector:"[mwlCalendarTooltip]"}]}],e.ctorParameters=function(){return[{type:s.ElementRef},{type:s.Injector},{type:s.Renderer2},{type:s.ComponentFactoryResolver},{type:s.ViewContainerRef},{type:undefined,decorators:[{type:s.Inject,args:[p.DOCUMENT]}]}]},e.propDecorators={contents:[{type:s.Input,args:["mwlCalendarTooltip"]}],placement:[{type:s.Input,args:["tooltipPlacement"]}],customTemplate:[{type:s.Input,args:["tooltipTemplate"]}],event:[{type:s.Input,args:["tooltipEvent"]}],appendToBody:[{type:s.Input,args:["tooltipAppendToBody"]}],delay:[{type:s.Input,args:["tooltipDelay"]}],onMouseOver:[{type:s.HostListener,args:["mouseenter"]}],onMouseOut:[{type:s.HostListener,args:["mouseleave"]}]},e}(),y=function ge(){},h={Month:"month",Week:"week",Day:"day"},m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var g=function(){return(g=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,i,r=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(a=r.next()).done;)o.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(n=r["return"])&&n.call(r)}finally{if(i)throw i.error}}return o}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}var D=function(e){return n.validateEvents(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,w(["angular-calendar"],e))})};function E(e,t){return Math.floor(e.left)<=Math.ceil(t.left)&&Math.floor(t.left)<=Math.ceil(e.right)&&Math.floor(e.left)<=Math.ceil(t.right)&&Math.floor(t.right)<=Math.ceil(e.right)&&Math.floor(e.top)<=Math.ceil(t.top)&&Math.floor(t.top)<=Math.ceil(e.bottom)&&Math.floor(e.top)<=Math.ceil(t.bottom)&&Math.floor(t.bottom)<=Math.ceil(e.bottom)}function k(e,t){return Math.round(e/t)*t}var T=function(e,t){return t.id?t.id:t},C=function(e,t){return t.date.toISOString()},I=function(e,t){return t.date.toISOString()},S=function(e,t){return t.segments[0].date.toISOString()},b=function(e,t){return t.event.id?t.event.id:t.event};function A(e,t,n,a){return k(e,a||n)*(60/(t*n))}function O(e,t){return 60/(e*t)*t}function H(e,t,n){return t.end?t.end:e.addMinutes(t.start,n)}function M(e,t,n,a){for(var i=0,r=0,o=n<0?e.subDays:e.addDays,l=t;r<=Math.abs(n);){l=o(t,i);var s=e.getDay(l);-1===a.indexOf(s)&&r++,i++}return l}function z(e,t,n){var a=t||e;return n.start<=e&&e<=n.end||n.start<=a&&a<=n.end}function B(e,t,n,a){return e.dropData&&e.dropData.event&&(e.dropData.calendarId!==a||e.dropData.event.allDay&&!n||!e.dropData.event.allDay&&n)}function R(e,t,n,a,i){void 0===a&&(a=[]);var r=i?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});if(-1<a.indexOf(e.getDay(r))&&(r=e.subDays(M(e,r,1,a),1)),i)return{viewStart:r,viewEnd:o=e.endOfDay(M(e,r,i-1,a))};var o=e.endOfWeek(t,{weekStartsOn:n});return-1<a.indexOf(e.getDay(o))&&(o=e.addDays(M(e,o,-1,a),1)),{viewStart:r,viewEnd:o}}var x=function(){function e(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new s.EventEmitter}return e.prototype.onClick=function(){var e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.view===h.Day?this.viewDateChange.emit(M(this.dateAdapter,this.viewDate,-1,this.excludeDays)):this.view===h.Week&&this.daysInWeek?this.viewDateChange.emit(M(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))},e.decorators=[{type:s.Directive,args:[{selector:"[mwlCalendarPreviousView]"}]}],e.ctorParameters=function(){return[{type:y}]},e.propDecorators={view:[{type:s.Input}],viewDate:[{type:s.Input}],excludeDays:[{type:s.Input}],daysInWeek:[{type:s.Input}],viewDateChange:[{type:s.Output}],onClick:[{type:s.HostListener,args:["click"]}]},e}(),W=function(){function e(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new s.EventEmitter}return e.prototype.onClick=function(){var e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.view===h.Day?this.viewDateChange.emit(M(this.dateAdapter,this.viewDate,1,this.excludeDays)):this.view===h.Week&&this.daysInWeek?this.viewDateChange.emit(M(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))},e.decorators=[{type:s.Directive,args:[{selector:"[mwlCalendarNextView]"}]}],e.ctorParameters=function(){return[{type:y}]},e.propDecorators={view:[{type:s.Input}],viewDate:[{type:s.Input}],excludeDays:[{type:s.Input}],daysInWeek:[{type:s.Input}],viewDateChange:[{type:s.Output}],onClick:[{type:s.HostListener,args:["click"]}]},e}(),V=function(){function e(e){this.dateAdapter=e,this.viewDateChange=new s.EventEmitter}return e.prototype.onClick=function(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))},e.decorators=[{type:s.Directive,args:[{selector:"[mwlCalendarToday]"}]}],e.ctorParameters=function(){return[{type:y}]},e.propDecorators={viewDate:[{type:s.Input}],viewDateChange:[{type:s.Output}],onClick:[{type:s.HostListener,args:["click"]}]},e}(),P=function(){function e(e){this.dateAdapter=e}return e.prototype.monthViewColumnHeader=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"EEEE",n)},e.prototype.monthViewDayNumber=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"d",n)},e.prototype.monthViewTitle=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"LLLL y",n)},e.prototype.weekViewColumnHeader=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"EEEE",n)},e.prototype.weekViewColumnSubHeader=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"MMM d",n)},e.prototype.weekViewTitle=function(e){var t=e.date,n=e.locale,a=e.weekStartsOn,i=e.excludeDays,r=e.daysInWeek,o=R(this.dateAdapter,t,a,i,r),l=o.viewStart,s=o.viewEnd,d=function(e,t){return p.formatDate(e,"MMM d"+(t?", yyyy":""),n)};return d(l,l.getUTCFullYear()!==s.getUTCFullYear())+" - "+d(s,!0)},e.prototype.weekViewHour=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"h a",n)},e.prototype.dayViewHour=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"h a",n)},e.prototype.dayViewTitle=function(e){var t=e.date,n=e.locale;return p.formatDate(t,"EEEE, MMMM d, y",n)},e.decorators=[{type:s.Injectable}],e.ctorParameters=function(){return[{type:y}]},e}(),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function a(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.decorators=[{type:s.Injectable}],t}(P),j=function(){function e(e,t){this.dateFormatter=e,this.locale=t}return e.prototype.transform=function(e,t,n,a,i,r){if(void 0===n&&(n=this.locale),void 0===a&&(a=0),void 0===i&&(i=[]),"undefined"!=typeof this.dateFormatter[t])return this.dateFormatter[t]({date:e,locale:n,weekStartsOn:a,excludeDays:i,daysInWeek:r});var o=Object.getOwnPropertyNames(Object.getPrototypeOf(F.prototype)).filter(function(e){return"constructor"!==e});throw new Error(t+" is not a valid date formatter. Can only be one of "+o.join(", "))},e.decorators=[{type:s.Pipe,args:[{name:"calendarDate"}]}],e.ctorParameters=function(){return[{type:F},{type:String,decorators:[{type:s.Inject,args:[s.LOCALE_ID]}]}]},e}(),L=function(){function e(){}return e.prototype.month=function(e,t){return e.title},e.prototype.monthTooltip=function(e,t){return e.title},e.prototype.week=function(e,t){return e.title},e.prototype.weekTooltip=function(e,t){return e.title},e.prototype.day=function(e,t){return e.title},e.prototype.dayTooltip=function(e,t){return e.title},e}(),$=function(){function e(e){this.calendarEventTitle=e}return e.prototype.transform=function(e,t,n){return this.calendarEventTitle[t](n,e)},e.decorators=[{type:s.Pipe,args:[{name:"calendarEventTitle"}]}],e.ctorParameters=function(){return[{type:L}]},e}(),Y="undefined"!=typeof window&&"undefined"!=typeof window.requestIdleCallback;var _=new Set,N="undefined"!=typeof window&&"undefined"!=typeof window.Hammer?"tap":"click",q=function(){function e(e,t,n){this.renderer=e,this.elm=t,this.document=n,this.clickListenerDisabled=!1,this.click=new s.EventEmitter,this.destroy$=new o.Subject}return e.prototype.ngOnInit=function(){var n=this;this.clickListenerDisabled||(this.renderer.setAttribute(this.elm.nativeElement,"data-calendar-clickable","true"),_.add(this.elm.nativeElement),function e(){return new o.Observable(function(e){if(Y){var t=window.requestIdleCallback(function(){e.next(),e.complete()});return function(){window.cancelIdleCallback(t)}}var n=setTimeout(function(){e.next(),e.complete()},1);return function(){clearTimeout(n)}})}().pipe(a.switchMapTo(this.listen()),a.takeUntil(this.destroy$)).subscribe(function(e){for(var t=e.target;!_.has(t)&&t!==n.document.body;)t=t.parentElement;n.elm.nativeElement===t&&n.click.next(e)}))},e.prototype.ngOnDestroy=function(){this.destroy$.next(),_["delete"](this.elm.nativeElement)},e.prototype.listen=function(){var e=this;return new o.Observable(function(t){return e.renderer.listen(e.elm.nativeElement,N,function(e){t.next(e)})})},e.decorators=[{type:s.Directive,args:[{selector:"[mwlClick]"}]}],e.ctorParameters=function(){return[{type:s.Renderer2},{type:s.ElementRef},{type:undefined,decorators:[{type:s.Inject,args:[p.DOCUMENT]}]}]},e.propDecorators={clickListenerDisabled:[{type:s.Input}],click:[{type:s.Output,args:["mwlClick"]}]},e}(),G=function(){function e(e){this.dateAdapter=e}return e.prototype.getMonthView=function(e){return n.getMonthView(this.dateAdapter,e)},e.prototype.getWeekViewHeader=function(e){return n.getWeekViewHeader(this.dateAdapter,e)},e.prototype.getWeekView=function(e){return n.getWeekView(this.dateAdapter,e)},e.prototype.getDayView=function(e){return n.getDayView(this.dateAdapter,e)},e.prototype.getDayViewHourGrid=function(e){return n.getDayViewHourGrid(this.dateAdapter,e)},e.decorators=[{type:s.Injectable}],e.ctorParameters=function(){return[{type:y}]},e}(),U=new s.InjectionToken("Moment"),K=function(){function e(e,t){this.moment=e,this.dateAdapter=t}return e.prototype.monthViewColumnHeader=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("dddd")},e.prototype.monthViewDayNumber=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("D")},e.prototype.monthViewTitle=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("MMMM YYYY")},e.prototype.weekViewColumnHeader=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("dddd")},e.prototype.weekViewColumnSubHeader=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("MMM D")},e.prototype.weekViewTitle=function(e){var n=this,t=e.date,a=e.locale,i=e.weekStartsOn,r=e.excludeDays,o=e.daysInWeek,l=R(this.dateAdapter,t,i,r,o),s=l.viewStart,d=l.viewEnd,p=function(e,t){return n.moment(e).locale(a).format("MMM D"+(t?", YYYY":""))};return p(s,s.getUTCFullYear()!==d.getUTCFullYear())+" - "+p(d,!0)},e.prototype.weekViewHour=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("ha")},e.prototype.dayViewHour=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("ha")},e.prototype.dayViewTitle=function(e){var t=e.date,n=e.locale;return this.moment(t).locale(n).format("dddd, D MMMM, YYYY")},e.decorators=[{type:s.Injectable}],e.ctorParameters=function(){return[{type:undefined,decorators:[{type:s.Inject,args:[U]}]},{type:y}]},e}(),J=function(){function e(e){this.dateAdapter=e}return e.prototype.monthViewColumnHeader=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{weekday:"long"}).format(t)},e.prototype.monthViewDayNumber=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{day:"numeric"}).format(t)},e.prototype.monthViewTitle=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{year:"numeric",month:"long"}).format(t)},e.prototype.weekViewColumnHeader=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{weekday:"long"}).format(t)},e.prototype.weekViewColumnSubHeader=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{day:"numeric",month:"short"}).format(t)},e.prototype.weekViewTitle=function(e){var t=e.date,n=e.locale,a=e.weekStartsOn,i=e.excludeDays,r=e.daysInWeek,o=R(this.dateAdapter,t,a,i,r),l=o.viewStart,s=o.viewEnd,d=function(e,t){return new Intl.DateTimeFormat(n,{day:"numeric",month:"short",year:t?"numeric":undefined}).format(e)};return d(l,l.getUTCFullYear()!==s.getUTCFullYear())+" - "+d(s,!0)},e.prototype.weekViewHour=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{hour:"numeric"}).format(t)},e.prototype.dayViewHour=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{hour:"numeric"}).format(t)},e.prototype.dayViewTitle=function(e){var t=e.date,n=e.locale;return new Intl.DateTimeFormat(n,{day:"numeric",month:"long",year:"numeric",weekday:"long"}).format(t)},e.decorators=[{type:s.Injectable}],e.ctorParameters=function(){return[{type:y}]},e}(),Q={Drag:"drag",Drop:"drop",Resize:"resize"},X=function(){function n(){}return n.forRoot=function(e,t){return void 0===t&&(t={}),{ngModule:n,providers:[e,t.eventTitleFormatter||L,t.dateFormatter||F,t.utils||G]}},n.decorators=[{type:s.NgModule,args:[{declarations:[d,c,u,v,x,W,V,j,$,q],imports:[p.CommonModule],exports:[d,c,u,v,x,W,V,j,$,q],entryComponents:[u]}]}],n}(),Z=function(){function e(e,t,n,a){var i=this;this.cdr=e,this.utils=t,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new s.EventEmitter,this.dayClicked=new s.EventEmitter,this.eventClicked=new s.EventEmitter,this.columnHeaderClicked=new s.EventEmitter,this.eventTimesChanged=new s.EventEmitter,this.trackByRowOffset=function(e,t){return i.view.days.slice(t,i.view.totalDaysVisibleInWeek).map(function(e){return e.date.toISOString()}).join("-")},this.trackByDate=function(e,t){return t.date.toISOString()},this.locale=n}return e.prototype.ngOnInit=function(){var e=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){e.refreshAll(),e.cdr.markForCheck()}))},e.prototype.ngOnChanges=function(e){var t=e.viewDate||e.excludeDays||e.weekendDays,n=e.viewDate||e.events||e.excludeDays||e.weekendDays;t&&this.refreshHeader(),e.events&&D(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()},e.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},e.prototype.toggleDayHighlight=function(t,n){this.view.days.forEach(function(e){n&&-1<e.events.indexOf(t)?e.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete e.backgroundColor})},e.prototype.eventDropped=function(e,t,n){if(e!==n){var a=this.dateAdapter.getYear(e.date),i=this.dateAdapter.getMonth(e.date),r=this.dateAdapter.getDate(e.date),o=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(t.start,a),i),r),l=void 0;if(t.end){var s=this.dateAdapter.differenceInSeconds(o,t.start);l=this.dateAdapter.addSeconds(t.end,s)}this.eventTimesChanged.emit({event:t,newStart:o,newEnd:l,day:e,type:Q.Drop})}},e.prototype.refreshHeader=function(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})},e.prototype.refreshBody=function(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})},e.prototype.checkActiveDayIsOpen=function(){var t=this;if(!0===this.activeDayIsOpen){var n=this.activeDay||this.viewDate;this.openDay=this.view.days.find(function(e){return t.dateAdapter.isSameDay(e.date,n)});var e=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(e/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null},e.prototype.refreshAll=function(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()},e.prototype.emitBeforeViewRender=function(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})},e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-month-view",template:'\n    <div class="cal-month-view">\n      <mwl-calendar-month-view-header\n        [days]="columnHeaders"\n        [locale]="locale"\n        (columnHeaderClicked)="columnHeaderClicked.emit($event)"\n        [customTemplate]="headerTemplate"\n      >\n        >\n      </mwl-calendar-month-view-header>\n      <div class="cal-days">\n        <div\n          *ngFor="let rowIndex of view.rowOffsets; trackBy: trackByRowOffset"\n        >\n          <div class="cal-cell-row">\n            <mwl-calendar-month-cell\n              *ngFor="\n                let day of (view.days\n                  | slice: rowIndex:rowIndex + view.totalDaysVisibleInWeek);\n                trackBy: trackByDate\n              "\n              [ngClass]="day?.cssClass"\n              [day]="day"\n              [openDay]="openDay"\n              [locale]="locale"\n              [tooltipPlacement]="tooltipPlacement"\n              [tooltipAppendToBody]="tooltipAppendToBody"\n              [tooltipTemplate]="tooltipTemplate"\n              [tooltipDelay]="tooltipDelay"\n              [customTemplate]="cellTemplate"\n              [ngStyle]="{ backgroundColor: day.backgroundColor }"\n              (mwlClick)="dayClicked.emit({ day: day })"\n              [clickListenerDisabled]="dayClicked.observers.length === 0"\n              (highlightDay)="toggleDayHighlight($event.event, true)"\n              (unhighlightDay)="toggleDayHighlight($event.event, false)"\n              mwlDroppable\n              dragOverClass="cal-drag-over"\n              (drop)="\n                eventDropped(\n                  day,\n                  $event.dropData.event,\n                  $event.dropData.draggedFrom\n                )\n              "\n              (eventClicked)="eventClicked.emit({ event: $event.event })"\n            >\n            </mwl-calendar-month-cell>\n          </div>\n          <mwl-calendar-open-day-events\n            [isOpen]="openRowIndex === rowIndex"\n            [events]="openDay?.events"\n            [customTemplate]="openDayEventsTemplate"\n            [eventTitleTemplate]="eventTitleTemplate"\n            [eventActionsTemplate]="eventActionsTemplate"\n            (eventClicked)="eventClicked.emit({ event: $event.event })"\n            mwlDroppable\n            dragOverClass="cal-drag-over"\n            (drop)="\n              eventDropped(\n                openDay,\n                $event.dropData.event,\n                $event.dropData.draggedFrom\n              )\n            "\n          >\n          </mwl-calendar-open-day-events>\n        </div>\n      </div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:G},{type:String,decorators:[{type:s.Inject,args:[s.LOCALE_ID]}]},{type:y}]},e.propDecorators={viewDate:[{type:s.Input}],events:[{type:s.Input}],excludeDays:[{type:s.Input}],activeDayIsOpen:[{type:s.Input}],activeDay:[{type:s.Input}],refresh:[{type:s.Input}],locale:[{type:s.Input}],tooltipPlacement:[{type:s.Input}],tooltipTemplate:[{type:s.Input}],tooltipAppendToBody:[{type:s.Input}],tooltipDelay:[{type:s.Input}],weekStartsOn:[{type:s.Input}],headerTemplate:[{type:s.Input}],cellTemplate:[{type:s.Input}],openDayEventsTemplate:[{type:s.Input}],eventTitleTemplate:[{type:s.Input}],eventActionsTemplate:[{type:s.Input}],weekendDays:[{type:s.Input}],beforeViewRender:[{type:s.Output}],dayClicked:[{type:s.Output}],eventClicked:[{type:s.Output}],columnHeaderClicked:[{type:s.Output}],eventTimesChanged:[{type:s.Output}]},e}(),ee=function(){function e(){this.columnHeaderClicked=new s.EventEmitter,this.trackByWeekDayHeaderDate=C}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-month-view-header",template:'\n    <ng-template\n      #defaultTemplate\n      let-days="days"\n      let-locale="locale"\n      let-trackByWeekDayHeaderDate="trackByWeekDayHeaderDate"\n    >\n      <div class="cal-cell-row cal-header">\n        <div\n          class="cal-cell"\n          *ngFor="let day of days; trackBy: trackByWeekDayHeaderDate"\n          [class.cal-past]="day.isPast"\n          [class.cal-today]="day.isToday"\n          [class.cal-future]="day.isFuture"\n          [class.cal-weekend]="day.isWeekend"\n          (click)="columnHeaderClicked.emit(day.day)"\n          [ngClass]="day.cssClass"\n        >\n          {{ day.date | calendarDate: \'monthViewColumnHeader\':locale }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        days: days,\n        locale: locale,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={days:[{type:s.Input}],locale:[{type:s.Input}],customTemplate:[{type:s.Input}],columnHeaderClicked:[{type:s.Output}]},e}(),te=function(){function e(){this.highlightDay=new s.EventEmitter,this.unhighlightDay=new s.EventEmitter,this.eventClicked=new s.EventEmitter,this.trackByEventId=T}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-month-cell",template:'\n    <ng-template\n      #defaultTemplate\n      let-day="day"\n      let-openDay="openDay"\n      let-locale="locale"\n      let-tooltipPlacement="tooltipPlacement"\n      let-highlightDay="highlightDay"\n      let-unhighlightDay="unhighlightDay"\n      let-eventClicked="eventClicked"\n      let-tooltipTemplate="tooltipTemplate"\n      let-tooltipAppendToBody="tooltipAppendToBody"\n      let-tooltipDelay="tooltipDelay"\n      let-trackByEventId="trackByEventId"\n    >\n      <div class="cal-cell-top">\n        <span class="cal-day-badge" *ngIf="day.badgeTotal > 0">{{\n          day.badgeTotal\n        }}</span>\n        <span class="cal-day-number">{{\n          day.date | calendarDate: \'monthViewDayNumber\':locale\n        }}</span>\n      </div>\n      <div class="cal-events" *ngIf="day.events.length > 0">\n        <div\n          class="cal-event"\n          *ngFor="let event of day.events; trackBy: trackByEventId"\n          [ngStyle]="{ backgroundColor: event.color?.primary }"\n          [ngClass]="event?.cssClass"\n          (mouseenter)="highlightDay.emit({ event: event })"\n          (mouseleave)="unhighlightDay.emit({ event: event })"\n          [mwlCalendarTooltip]="\n            event.title | calendarEventTitle: \'monthTooltip\':event\n          "\n          [tooltipPlacement]="tooltipPlacement"\n          [tooltipEvent]="event"\n          [tooltipTemplate]="tooltipTemplate"\n          [tooltipAppendToBody]="tooltipAppendToBody"\n          [tooltipDelay]="tooltipDelay"\n          mwlDraggable\n          [class.cal-draggable]="event.draggable"\n          dragActiveClass="cal-drag-active"\n          [dropData]="{ event: event, draggedFrom: day }"\n          [dragAxis]="{ x: event.draggable, y: event.draggable }"\n          (mwlClick)="eventClicked.emit({ event: event })"\n        ></div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        day: day,\n        openDay: openDay,\n        locale: locale,\n        tooltipPlacement: tooltipPlacement,\n        highlightDay: highlightDay,\n        unhighlightDay: unhighlightDay,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDelay: tooltipDelay,\n        trackByEventId: trackByEventId\n      }"\n    >\n    </ng-template>\n  ',host:{"class":"cal-cell cal-day-cell","[class.cal-past]":"day.isPast","[class.cal-today]":"day.isToday","[class.cal-future]":"day.isFuture","[class.cal-weekend]":"day.isWeekend","[class.cal-in-month]":"day.inMonth","[class.cal-out-month]":"!day.inMonth","[class.cal-has-events]":"day.events.length > 0","[class.cal-open]":"day === openDay","[class.cal-event-highlight]":"!!day.backgroundColor"}}]}],e.propDecorators={day:[{type:s.Input}],openDay:[{type:s.Input}],locale:[{type:s.Input}],tooltipPlacement:[{type:s.Input}],tooltipAppendToBody:[{type:s.Input}],customTemplate:[{type:s.Input}],tooltipTemplate:[{type:s.Input}],tooltipDelay:[{type:s.Input}],highlightDay:[{type:s.Output}],unhighlightDay:[{type:s.Output}],eventClicked:[{type:s.Output}]},e}(),ne=i.trigger("collapse",[i.transition("void => *",[i.style({height:0,overflow:"hidden"}),i.animate("150ms",i.style({height:"*"}))]),i.transition("* => void",[i.style({height:"*",overflow:"hidden"}),i.animate("150ms",i.style({height:0}))])]),ae=function(){function e(){this.isOpen=!1,this.eventClicked=new s.EventEmitter,this.trackByEventId=T}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-open-day-events",template:'\n    <ng-template\n      #defaultTemplate\n      let-events="events"\n      let-eventClicked="eventClicked"\n      let-isOpen="isOpen"\n      let-trackByEventId="trackByEventId"\n    >\n      <div class="cal-open-day-events" [@collapse] *ngIf="isOpen">\n        <div\n          *ngFor="let event of events; trackBy: trackByEventId"\n          [ngClass]="event?.cssClass"\n          mwlDraggable\n          [class.cal-draggable]="event.draggable"\n          dragActiveClass="cal-drag-active"\n          [dropData]="{ event: event }"\n          [dragAxis]="{ x: event.draggable, y: event.draggable }"\n        >\n          <span\n            class="cal-event"\n            [ngStyle]="{ backgroundColor: event.color?.primary }"\n          >\n          </span>\n          &ngsp;\n          <mwl-calendar-event-title\n            [event]="event"\n            [customTemplate]="eventTitleTemplate"\n            view="month"\n            (mwlClick)="eventClicked.emit({ event: event })"\n          >\n          </mwl-calendar-event-title>\n          &ngsp;\n          <mwl-calendar-event-actions\n            [event]="event"\n            [customTemplate]="eventActionsTemplate"\n          >\n          </mwl-calendar-event-actions>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        events: events,\n        eventClicked: eventClicked,\n        isOpen: isOpen,\n        trackByEventId: trackByEventId\n      }"\n    >\n    </ng-template>\n  ',animations:[ne]}]}],e.propDecorators={isOpen:[{type:s.Input}],events:[{type:s.Input}],customTemplate:[{type:s.Input}],eventTitleTemplate:[{type:s.Input}],eventActionsTemplate:[{type:s.Input}],eventClicked:[{type:s.Output}]},e}(),ie=function(){function e(){}return e.decorators=[{type:s.NgModule,args:[{imports:[p.CommonModule,l.DragAndDropModule,X],declarations:[Z,te,ae,ee],exports:[l.DragAndDropModule,Z,te,ae,ee]}]}],e}(),re=function(){function e(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}return e.prototype.validateDrag=function(e){var t=e.x,n=e.y,a=e.snapDraggedEvents,i=e.dragAlreadyMoved,r=1<Math.abs(t)||1<Math.abs(n);if(a){var o=Object.assign({},this.startPosition,{left:this.startPosition.left+t,right:this.startPosition.right+t,top:this.startPosition.top+n,bottom:this.startPosition.bottom+n});return(r||i)&&E(this.dragContainerElement.getBoundingClientRect(),o)}return r||i},e}(),oe=function(){function e(e,t){this.resizeContainerElement=e,this.minWidth=t}return e.prototype.validateResize=function(e){var t=e.rectangle;return!(this.minWidth&&Math.ceil(t.width)<Math.ceil(this.minWidth))&&E(this.resizeContainerElement.getBoundingClientRect(),t)},e}(),le=function(){function e(e,t,n,a){this.cdr=e,this.utils=t,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new s.EventEmitter,this.eventClicked=new s.EventEmitter,this.eventTimesChanged=new s.EventEmitter,this.beforeViewRender=new s.EventEmitter,this.hourSegmentClicked=new s.EventEmitter,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnter=0,this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.trackByWeekDayHeaderDate=C,this.trackByHourSegment=I,this.trackByHour=S,this.trackByDayOrWeekEvent=b,this.trackByHourColumn=function(e,t){return t.hours[0]?t.hours[0].segments[0].date.toISOString():t},this.trackById=function(e,t){return t.id},this.locale=n}return e.prototype.ngOnInit=function(){var e=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){e.refreshAll(),e.cdr.markForCheck()}))},e.prototype.ngOnChanges=function(e){var t=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,n=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek;t&&this.refreshHeader(),e.events&&D(this.events),n&&this.refreshBody(),(t||n)&&this.emitBeforeViewRender()},e.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},e.prototype.resizeStarted=function(e,t){this.dayColumnWidth=this.getDayColumnWidth(e);var n=new oe(e,t);this.validateResize=function(e){var t=e.rectangle;return n.validateResize({rectangle:t})},this.cdr.markForCheck()},e.prototype.timeEventResizeStarted=function(e,t,n){this.timeEventResizes.set(t.event,n),this.resizeStarted(e)},e.prototype.timeEventResizing=function(e,t){var r=this;this.timeEventResizes.set(e.event,t);var o=new Map,l=w(this.events);this.timeEventResizes.forEach(function(e,t){var n=r.getTimeEventResizedDates(t,e),a=g({},t,n);o.set(a,t);var i=l.indexOf(t);l[i]=a}),this.restoreOriginalEvents(l,o)},e.prototype.timeEventResizeEnded=function(e){this.view=this.getWeekView(this.events);var t=this.timeEventResizes.get(e.event);if(t){this.timeEventResizes["delete"](e.event);var n=this.getTimeEventResizedDates(e.event,t);this.eventTimesChanged.emit({newStart:n.start,newEnd:n.end,event:e.event,type:Q.Resize})}},e.prototype.allDayEventResizeStarted=function(e,t,n){this.allDayEventResizes.set(t,{originalOffset:t.offset,originalSpan:t.span,edge:"undefined"!=typeof n.edges.left?"left":"right"}),this.resizeStarted(e,this.getDayColumnWidth(e))},e.prototype.allDayEventResizing=function(e,t,n){var a=this.allDayEventResizes.get(e);if("undefined"!=typeof t.edges.left){var i=Math.round(+t.edges.left/n);e.offset=a.originalOffset+i,e.span=a.originalSpan-i}else if("undefined"!=typeof t.edges.right){i=Math.round(+t.edges.right/n);e.span=a.originalSpan+i}},e.prototype.allDayEventResizeEnded=function(e){var t=this.allDayEventResizes.get(e);if(t){var n="left"===t.edge,a=void 0;a=n?e.offset-t.originalOffset:e.span-t.originalSpan,e.offset=t.originalOffset,e.span=t.originalSpan;var i=e.event.start,r=e.event.end||e.event.start;n?i=M(this.dateAdapter,i,a,this.excludeDays):r=M(this.dateAdapter,r,a,this.excludeDays),this.eventTimesChanged.emit({newStart:i,newEnd:r,event:e.event,type:Q.Resize}),this.allDayEventResizes["delete"](e)}},e.prototype.getDayColumnWidth=function(e){return Math.floor(e.offsetWidth/this.days.length)},e.prototype.eventDropped=function(e,t,n){B(e,0,n,this.calendarId)&&this.eventTimesChanged.emit({type:Q.Drop,event:e.dropData.event,newStart:t,allDay:n})},e.prototype.dragStarted=function(e,t,n){var a=this;this.dayColumnWidth=this.getDayColumnWidth(e);var i=new re(e,t);this.validateDrag=function(e){var t=e.x,n=e.y;return 0===a.allDayEventResizes.size&&0===a.timeEventResizes.size&&i.validateDrag({x:t,y:n,snapDraggedEvents:a.snapDraggedEvents,dragAlreadyMoved:a.dragAlreadyMoved})},this.dragActive=!0,this.dragAlreadyMoved=!1,this.eventDragEnter=0,!this.snapDraggedEvents&&n&&this.view.hourColumns.forEach(function(e){var t=e.events.find(function(e){return e.event===n.event&&e!==n});t&&(t.width=0,t.height=0)}),this.cdr.markForCheck()},e.prototype.dragMove=function(e,t){if(this.snapDraggedEvents){var n=this.getDragMovedEventTimes(e,t,this.dayColumnWidth,!0),a=e.event,i=g({},a,n),r=this.events.map(function(e){return e===a?i:e});this.restoreOriginalEvents(r,new Map([[i,a]]))}this.dragAlreadyMoved=!0},e.prototype.allDayEventDragMove=function(){this.dragAlreadyMoved=!0},e.prototype.dragEnded=function(e,t,n,a){void 0===a&&(a=!1),this.view=this.getWeekView(this.events),this.dragActive=!1;var i=this.getDragMovedEventTimes(e,t,n,a),r=i.start,o=i.end;0<this.eventDragEnter&&z(r,o,this.view.period)&&this.eventTimesChanged.emit({newStart:r,newEnd:o,event:e.event,type:Q.Drag,allDay:!a})},e.prototype.refreshHeader=function(){this.days=this.utils.getWeekViewHeader(g({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},R(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))},e.prototype.refreshBody=function(){this.view=this.getWeekView(this.events)},e.prototype.refreshAll=function(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()},e.prototype.emitBeforeViewRender=function(){this.days&&this.view&&this.beforeViewRender.emit(g({header:this.days},this.view))},e.prototype.getWeekView=function(e){return this.utils.getWeekView(g({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays},R(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))},e.prototype.getDragMovedEventTimes=function(e,t,n,a){var i,r=k(t.x,n)/n,o=a?A(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize):0,l=this.dateAdapter.addMinutes(M(this.dateAdapter,e.event.start,r,this.excludeDays),o);return e.event.end&&(i=this.dateAdapter.addMinutes(M(this.dateAdapter,e.event.end,r,this.excludeDays),o)),{start:l,end:i}},e.prototype.restoreOriginalEvents=function(e,i){var t=this.view;this.view=this.getWeekView(e);var n=e.filter(function(e){return i.has(e)});this.view.hourColumns.forEach(function(a,e){t.hourColumns[e].hours.forEach(function(e,n){e.segments.forEach(function(e,t){a.hours[n].segments[t].cssClass=e.cssClass})}),n.forEach(function(t){var e=i.get(t),n=a.events.find(function(e){return e.event===t});n?n.event=e:a.events.push({event:e,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1})})}),i.clear()},e.prototype.getTimeEventResizedDates=function(e,t){var n=O(this.hourSegments,this.hourSegmentHeight),a={start:e.start,end:H(this.dateAdapter,e,n)},i=(e.end,function p(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&(n[a[i]]=e[a[i]])}return n}(e,["end"])),r={start:this.dateAdapter.addMinutes(a.end,-1*n),end:H(this.dateAdapter,i,n)};if("undefined"!=typeof t.edges.left){var o=Math.round(+t.edges.left/this.dayColumnWidth),l=M(this.dateAdapter,a.start,o,this.excludeDays);a.start=l<r.start?l:r.start}else if("undefined"!=typeof t.edges.right){o=Math.round(+t.edges.right/this.dayColumnWidth);var s=M(this.dateAdapter,a.end,o,this.excludeDays);a.end=r.end<s?s:r.end}if("undefined"!=typeof t.edges.top){var d=A(t.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize);l=this.dateAdapter.addMinutes(a.start,d);a.start=l<r.start?l:r.start}else if("undefined"!=typeof t.edges.bottom){d=A(t.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),s=this.dateAdapter.addMinutes(a.end,d);a.end=r.end<s?s:r.end}return a},e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-week-view",template:'\n    <div class="cal-week-view">\n      <mwl-calendar-week-view-header\n        [days]="days"\n        [locale]="locale"\n        [customTemplate]="headerTemplate"\n        (dayHeaderClicked)="dayHeaderClicked.emit($event)"\n        (eventDropped)="\n          eventDropped({ dropData: $event }, $event.newStart, true)\n        "\n      >\n      </mwl-calendar-week-view-header>\n      <div\n        class="cal-all-day-events"\n        #allDayEventsContainer\n        *ngIf="view.allDayEventRows.length > 0"\n        mwlDroppable\n        (dragEnter)="eventDragEnter = eventDragEnter + 1"\n        (dragLeave)="eventDragEnter = eventDragEnter - 1"\n      >\n        <div class="cal-day-columns">\n          <div\n            class="cal-time-label-column"\n            [ngTemplateOutlet]="allDayEventsLabelTemplate"\n          ></div>\n          <div\n            class="cal-day-column"\n            *ngFor="let day of days; trackBy: trackByWeekDayHeaderDate"\n            mwlDroppable\n            dragOverClass="cal-drag-over"\n            (drop)="eventDropped($event, day.date, true)"\n          ></div>\n        </div>\n        <div\n          *ngFor="let eventRow of view.allDayEventRows; trackBy: trackById"\n          #eventRowContainer\n          class="cal-events-row"\n        >\n          <div\n            *ngFor="\n              let allDayEvent of eventRow.row;\n              trackBy: trackByDayOrWeekEvent\n            "\n            #event\n            class="cal-event-container"\n            [class.cal-draggable]="\n              allDayEvent.event.draggable && allDayEventResizes.size === 0\n            "\n            [class.cal-starts-within-week]="!allDayEvent.startsBeforeWeek"\n            [class.cal-ends-within-week]="!allDayEvent.endsAfterWeek"\n            [ngClass]="allDayEvent.event?.cssClass"\n            [style.width.%]="(100 / days.length) * allDayEvent.span"\n            [style.marginLeft.%]="(100 / days.length) * allDayEvent.offset"\n            mwlResizable\n            [resizeSnapGrid]="{ left: dayColumnWidth, right: dayColumnWidth }"\n            [validateResize]="validateResize"\n            (resizeStart)="\n              allDayEventResizeStarted(eventRowContainer, allDayEvent, $event)\n            "\n            (resizing)="\n              allDayEventResizing(allDayEvent, $event, dayColumnWidth)\n            "\n            (resizeEnd)="allDayEventResizeEnded(allDayEvent)"\n            mwlDraggable\n            dragActiveClass="cal-drag-active"\n            [dropData]="{ event: allDayEvent.event, calendarId: calendarId }"\n            [dragAxis]="{\n              x: allDayEvent.event.draggable && allDayEventResizes.size === 0,\n              y:\n                !snapDraggedEvents &&\n                allDayEvent.event.draggable &&\n                allDayEventResizes.size === 0\n            }"\n            [dragSnapGrid]="snapDraggedEvents ? { x: dayColumnWidth } : {}"\n            [validateDrag]="validateDrag"\n            (dragStart)="dragStarted(eventRowContainer, event)"\n            (dragging)="allDayEventDragMove()"\n            (dragEnd)="dragEnded(allDayEvent, $event, dayColumnWidth)"\n          >\n            <div\n              class="cal-resize-handle cal-resize-handle-before-start"\n              *ngIf="\n                allDayEvent.event?.resizable?.beforeStart &&\n                !allDayEvent.startsBeforeWeek\n              "\n              mwlResizeHandle\n              [resizeEdges]="{ left: true }"\n            ></div>\n            <mwl-calendar-week-view-event\n              [weekEvent]="allDayEvent"\n              [tooltipPlacement]="tooltipPlacement"\n              [tooltipTemplate]="tooltipTemplate"\n              [tooltipAppendToBody]="tooltipAppendToBody"\n              [tooltipDelay]="tooltipDelay"\n              [customTemplate]="eventTemplate"\n              [eventTitleTemplate]="eventTitleTemplate"\n              [eventActionsTemplate]="eventActionsTemplate"\n              (eventClicked)="eventClicked.emit({ event: allDayEvent.event })"\n            >\n            </mwl-calendar-week-view-event>\n            <div\n              class="cal-resize-handle cal-resize-handle-after-end"\n              *ngIf="\n                allDayEvent.event?.resizable?.afterEnd &&\n                !allDayEvent.endsAfterWeek\n              "\n              mwlResizeHandle\n              [resizeEdges]="{ right: true }"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <div\n        class="cal-time-events"\n        mwlDroppable\n        (dragEnter)="eventDragEnter = eventDragEnter + 1"\n        (dragLeave)="eventDragEnter = eventDragEnter - 1"\n      >\n        <div class="cal-time-label-column" *ngIf="view.hourColumns.length > 0">\n          <div\n            *ngFor="\n              let hour of view.hourColumns[0].hours;\n              trackBy: trackByHour;\n              let odd = odd\n            "\n            class="cal-hour"\n            [class.cal-hour-odd]="odd"\n          >\n            <mwl-calendar-week-view-hour-segment\n              *ngFor="let segment of hour.segments; trackBy: trackByHourSegment"\n              [style.height.px]="hourSegmentHeight"\n              [segment]="segment"\n              [segmentHeight]="hourSegmentHeight"\n              [locale]="locale"\n              [customTemplate]="hourSegmentTemplate"\n              [isTimeLabel]="true"\n            >\n            </mwl-calendar-week-view-hour-segment>\n          </div>\n        </div>\n        <div\n          class="cal-day-columns"\n          [class.cal-resize-active]="timeEventResizes.size > 0"\n          #dayColumns\n        >\n          <div\n            class="cal-day-column"\n            *ngFor="let column of view.hourColumns; trackBy: trackByHourColumn"\n          >\n            <div\n              *ngFor="\n                let timeEvent of column.events;\n                trackBy: trackByDayOrWeekEvent\n              "\n              #event\n              class="cal-event-container"\n              [class.cal-draggable]="\n                timeEvent.event.draggable && timeEventResizes.size === 0\n              "\n              [class.cal-starts-within-day]="!timeEvent.startsBeforeDay"\n              [class.cal-ends-within-day]="!timeEvent.endsAfterDay"\n              [ngClass]="timeEvent.event.cssClass"\n              [hidden]="timeEvent.height === 0 && timeEvent.width === 0"\n              [style.top.px]="timeEvent.top"\n              [style.height.px]="timeEvent.height"\n              [style.left.%]="timeEvent.left"\n              [style.width.%]="timeEvent.width"\n              mwlResizable\n              [resizeSnapGrid]="{\n                left: dayColumnWidth,\n                right: dayColumnWidth,\n                top: eventSnapSize || hourSegmentHeight,\n                bottom: eventSnapSize || hourSegmentHeight\n              }"\n              [validateResize]="validateResize"\n              [allowNegativeResizes]="true"\n              (resizeStart)="\n                timeEventResizeStarted(dayColumns, timeEvent, $event)\n              "\n              (resizing)="timeEventResizing(timeEvent, $event)"\n              (resizeEnd)="timeEventResizeEnded(timeEvent)"\n              mwlDraggable\n              dragActiveClass="cal-drag-active"\n              [dropData]="{ event: timeEvent.event, calendarId: calendarId }"\n              [dragAxis]="{\n                x: timeEvent.event.draggable && timeEventResizes.size === 0,\n                y: timeEvent.event.draggable && timeEventResizes.size === 0\n              }"\n              [dragSnapGrid]="\n                snapDraggedEvents\n                  ? { x: dayColumnWidth, y: eventSnapSize || hourSegmentHeight }\n                  : {}\n              "\n              [ghostDragEnabled]="!snapDraggedEvents"\n              [validateDrag]="validateDrag"\n              (dragStart)="dragStarted(dayColumns, event, timeEvent)"\n              (dragging)="dragMove(timeEvent, $event)"\n              (dragEnd)="dragEnded(timeEvent, $event, dayColumnWidth, true)"\n            >\n              <div\n                class="cal-resize-handle cal-resize-handle-before-start"\n                *ngIf="\n                  timeEvent.event?.resizable?.beforeStart &&\n                  !timeEvent.startsBeforeDay\n                "\n                mwlResizeHandle\n                [resizeEdges]="{\n                  left: true,\n                  top: true\n                }"\n              ></div>\n              <mwl-calendar-week-view-event\n                [weekEvent]="timeEvent"\n                [tooltipPlacement]="tooltipPlacement"\n                [tooltipTemplate]="tooltipTemplate"\n                [tooltipAppendToBody]="tooltipAppendToBody"\n                [tooltipDisabled]="dragActive || timeEventResizes.size > 0"\n                [tooltipDelay]="tooltipDelay"\n                [customTemplate]="eventTemplate"\n                [eventTitleTemplate]="eventTitleTemplate"\n                [eventActionsTemplate]="eventActionsTemplate"\n                (eventClicked)="eventClicked.emit({ event: timeEvent.event })"\n              >\n              </mwl-calendar-week-view-event>\n              <div\n                class="cal-resize-handle cal-resize-handle-after-end"\n                *ngIf="\n                  timeEvent.event?.resizable?.afterEnd &&\n                  !timeEvent.endsAfterDay\n                "\n                mwlResizeHandle\n                [resizeEdges]="{\n                  right: true,\n                  bottom: true\n                }"\n              ></div>\n            </div>\n\n            <div\n              *ngFor="\n                let hour of column.hours;\n                trackBy: trackByHour;\n                let odd = odd\n              "\n              class="cal-hour"\n              [class.cal-hour-odd]="odd"\n            >\n              <mwl-calendar-week-view-hour-segment\n                *ngFor="\n                  let segment of hour.segments;\n                  trackBy: trackByHourSegment\n                "\n                [style.height.px]="hourSegmentHeight"\n                [segment]="segment"\n                [segmentHeight]="hourSegmentHeight"\n                [locale]="locale"\n                [customTemplate]="hourSegmentTemplate"\n                (mwlClick)="hourSegmentClicked.emit({ date: segment.date })"\n                [clickListenerDisabled]="\n                  hourSegmentClicked.observers.length === 0\n                "\n                mwlDroppable\n                [dragOverClass]="\n                  !dragActive || !snapDraggedEvents ? \'cal-drag-over\' : null\n                "\n                dragActiveClass="cal-drag-active"\n                (drop)="eventDropped($event, segment.date, false)"\n              >\n              </mwl-calendar-week-view-hour-segment>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:G},{type:String,decorators:[{type:s.Inject,args:[s.LOCALE_ID]}]},{type:y}]},e.propDecorators={viewDate:[{type:s.Input}],events:[{type:s.Input}],excludeDays:[{type:s.Input}],refresh:[{type:s.Input}],locale:[{type:s.Input}],tooltipPlacement:[{type:s.Input}],tooltipTemplate:[{type:s.Input}],tooltipAppendToBody:[{type:s.Input}],tooltipDelay:[{type:s.Input}],weekStartsOn:[{type:s.Input}],headerTemplate:[{type:s.Input}],eventTemplate:[{type:s.Input}],eventTitleTemplate:[{type:s.Input}],eventActionsTemplate:[{type:s.Input}],precision:[{type:s.Input}],weekendDays:[{type:s.Input}],snapDraggedEvents:[{type:s.Input}],hourSegments:[{type:s.Input}],hourSegmentHeight:[{type:s.Input}],dayStartHour:[{type:s.Input}],dayStartMinute:[{type:s.Input}],dayEndHour:[{type:s.Input}],dayEndMinute:[{type:s.Input}],hourSegmentTemplate:[{type:s.Input}],eventSnapSize:[{type:s.Input}],allDayEventsLabelTemplate:[{type:s.Input}],daysInWeek:[{type:s.Input}],dayHeaderClicked:[{type:s.Output}],eventClicked:[{type:s.Output}],eventTimesChanged:[{type:s.Output}],beforeViewRender:[{type:s.Output}],hourSegmentClicked:[{type:s.Output}]},e}(),se=function(){function e(){this.dayHeaderClicked=new s.EventEmitter,this.eventDropped=new s.EventEmitter,this.trackByWeekDayHeaderDate=C}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-week-view-header",template:'\n    <ng-template\n      #defaultTemplate\n      let-days="days"\n      let-locale="locale"\n      let-dayHeaderClicked="dayHeaderClicked"\n      let-eventDropped="eventDropped"\n      let-trackByWeekDayHeaderDate="trackByWeekDayHeaderDate"\n    >\n      <div class="cal-day-headers">\n        <div\n          class="cal-header"\n          *ngFor="let day of days; trackBy: trackByWeekDayHeaderDate"\n          [class.cal-past]="day.isPast"\n          [class.cal-today]="day.isToday"\n          [class.cal-future]="day.isFuture"\n          [class.cal-weekend]="day.isWeekend"\n          [ngClass]="day.cssClass"\n          (mwlClick)="dayHeaderClicked.emit({ day: day })"\n          mwlDroppable\n          dragOverClass="cal-drag-over"\n          (drop)="\n            eventDropped.emit({\n              event: $event.dropData.event,\n              newStart: day.date\n            })\n          "\n        >\n          <b>{{ day.date | calendarDate: \'weekViewColumnHeader\':locale }}</b\n          ><br />\n          <span>{{\n            day.date | calendarDate: \'weekViewColumnSubHeader\':locale\n          }}</span>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        days: days,\n        locale: locale,\n        dayHeaderClicked: dayHeaderClicked,\n        eventDropped: eventDropped,\n        trackByWeekDayHeaderDate: trackByWeekDayHeaderDate\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={days:[{type:s.Input}],locale:[{type:s.Input}],customTemplate:[{type:s.Input}],dayHeaderClicked:[{type:s.Output}],eventDropped:[{type:s.Output}]},e}(),de=function(){function e(){this.eventClicked=new s.EventEmitter}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-week-view-event",template:'\n    <ng-template\n      #defaultTemplate\n      let-weekEvent="weekEvent"\n      let-tooltipPlacement="tooltipPlacement"\n      let-eventClicked="eventClicked"\n      let-tooltipTemplate="tooltipTemplate"\n      let-tooltipAppendToBody="tooltipAppendToBody"\n      let-tooltipDisabled="tooltipDisabled"\n      let-tooltipDelay="tooltipDelay"\n    >\n      <div\n        class="cal-event"\n        [ngStyle]="{\n          backgroundColor: weekEvent.event.color?.secondary,\n          borderColor: weekEvent.event.color?.primary\n        }"\n        [mwlCalendarTooltip]="\n          !tooltipDisabled\n            ? (weekEvent.event.title\n              | calendarEventTitle: \'weekTooltip\':weekEvent.event)\n            : \'\'\n        "\n        [tooltipPlacement]="tooltipPlacement"\n        [tooltipEvent]="weekEvent.event"\n        [tooltipTemplate]="tooltipTemplate"\n        [tooltipAppendToBody]="tooltipAppendToBody"\n        [tooltipDelay]="tooltipDelay"\n        (mwlClick)="eventClicked.emit()"\n      >\n        <mwl-calendar-event-actions\n          [event]="weekEvent.event"\n          [customTemplate]="eventActionsTemplate"\n        >\n        </mwl-calendar-event-actions>\n        &ngsp;\n        <mwl-calendar-event-title\n          [event]="weekEvent.event"\n          [customTemplate]="eventTitleTemplate"\n          view="week"\n        >\n        </mwl-calendar-event-title>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        weekEvent: weekEvent,\n        tooltipPlacement: tooltipPlacement,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDisabled: tooltipDisabled,\n        tooltipDelay: tooltipDelay\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={weekEvent:[{type:s.Input}],tooltipPlacement:[{type:s.Input}],tooltipAppendToBody:[{type:s.Input}],tooltipDisabled:[{type:s.Input}],tooltipDelay:[{type:s.Input}],customTemplate:[{type:s.Input}],eventTitleTemplate:[{type:s.Input}],eventActionsTemplate:[{type:s.Input}],tooltipTemplate:[{type:s.Input}],eventClicked:[{type:s.Output}]},e}(),pe=function(){function e(){}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-week-view-hour-segment",template:'\n    <ng-template\n      #defaultTemplate\n      let-segment="segment"\n      let-locale="locale"\n      let-segmentHeight="segmentHeight"\n      let-isTimeLabel="isTimeLabel"\n    >\n      <div\n        class="cal-hour-segment"\n        [style.height.px]="segmentHeight"\n        [class.cal-hour-start]="segment.isStart"\n        [class.cal-after-hour-start]="!segment.isStart"\n        [ngClass]="segment.cssClass"\n      >\n        <div class="cal-time" *ngIf="isTimeLabel">\n          {{ segment.date | calendarDate: \'weekViewHour\':locale }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        segment: segment,\n        locale: locale,\n        segmentHeight: segmentHeight,\n        isTimeLabel: isTimeLabel\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={segment:[{type:s.Input}],segmentHeight:[{type:s.Input}],locale:[{type:s.Input}],isTimeLabel:[{type:s.Input}],customTemplate:[{type:s.Input}]},e}(),ce=function(){function e(){}return e.decorators=[{type:s.NgModule,args:[{imports:[p.CommonModule,r.ResizableModule,l.DragAndDropModule,X],declarations:[le,se,de,pe],exports:[r.ResizableModule,l.DragAndDropModule,le,se,de,pe]}]}],e}(),ue=function(){function e(e,t,n,a){this.cdr=e,this.utils=t,this.dateAdapter=a,this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.eventWidth=150,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new s.EventEmitter,this.hourSegmentClicked=new s.EventEmitter,this.eventTimesChanged=new s.EventEmitter,this.beforeViewRender=new s.EventEmitter,this.hours=[],this.width=0,this.currentResizes=new Map,this.eventDragEnter=0,this.calendarId=Symbol("angular calendar day view id"),this.dragAlreadyMoved=!1,this.trackByEventId=T,this.trackByHour=S,this.trackByHourSegment=I,this.trackByDayEvent=b,this.locale=n}return e.prototype.ngOnInit=function(){var e=this;this.refresh&&(this.refreshSubscription=this.refresh.subscribe(function(){e.refreshAll(),e.cdr.markForCheck()}))},e.prototype.ngOnDestroy=function(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()},e.prototype.ngOnChanges=function(e){var t=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments,n=e.viewDate||e.events||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.eventWidth;t&&this.refreshHourGrid(),e.events&&D(this.events),n&&this.refreshView(),(t||n)&&this.emitBeforeViewRender()},e.prototype.eventDropped=function(e,t,n){B(e,0,n,this.calendarId)&&this.eventTimesChanged.emit({type:Q.Drop,event:e.dropData.event,newStart:t,allDay:n})},e.prototype.resizeStarted=function(e,t,n){this.currentResizes.set(e,{originalTop:e.top,originalHeight:e.height,edge:"undefined"!=typeof t.edges.top?"top":"bottom"});var a=new oe(n);this.validateResize=function(e){var t=e.rectangle;return a.validateResize({rectangle:t})},this.cdr.markForCheck()},e.prototype.resizing=function(e,t){var n=this.currentResizes.get(e);"undefined"!=typeof t.edges.top?(e.top=n.originalTop+ +t.edges.top,e.height=n.originalHeight-+t.edges.top):"undefined"!=typeof t.edges.bottom&&(e.height=n.originalHeight+ +t.edges.bottom)},e.prototype.resizeEnded=function(e){var t,n=this.currentResizes.get(e),a="top"===n.edge;t=a?e.top-n.originalTop:e.height-n.originalHeight,e.top=n.originalTop,e.height=n.originalHeight;var i=A(t,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),r=e.event.start,o=H(this.dateAdapter,e.event,O(this.hourSegments,this.hourSegmentHeight));a?r=this.dateAdapter.addMinutes(r,i):o=this.dateAdapter.addMinutes(o,i),this.eventTimesChanged.emit({newStart:r,newEnd:o,event:e.event,type:Q.Resize}),this.currentResizes["delete"](e)},e.prototype.dragStarted=function(e,t){var a=this,i=new re(t,e);this.validateDrag=function(e){var t=e.x,n=e.y;return 0===a.currentResizes.size&&i.validateDrag({x:t,y:n,snapDraggedEvents:a.snapDraggedEvents,dragAlreadyMoved:a.dragAlreadyMoved})},this.eventDragEnter=0,this.dragAlreadyMoved=!1,this.cdr.markForCheck()},e.prototype.dragMove=function(){this.dragAlreadyMoved=!0},e.prototype.dragEnded=function(e,t){if(0<this.eventDragEnter){var n=A(t.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize),a=this.dateAdapter.addMinutes(e.event.start,n);t.y<0&&a<this.view.period.start&&(n+=this.dateAdapter.differenceInMinutes(this.view.period.start,a),a=this.view.period.start);var i=void 0;e.event.end&&(i=this.dateAdapter.addMinutes(e.event.end,n)),z(a,i,this.view.period)&&this.eventTimesChanged.emit({newStart:a,newEnd:i,event:e.event,type:Q.Drag,allDay:!1})}},e.prototype.refreshHourGrid=function(){this.hours=this.utils.getDayViewHourGrid({viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute}})},e.prototype.refreshView=function(){this.view=this.utils.getDayView({events:this.events,viewDate:this.viewDate,hourSegments:this.hourSegments,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},eventWidth:this.eventWidth,segmentHeight:this.hourSegmentHeight})},e.prototype.refreshAll=function(){this.refreshHourGrid(),this.refreshView(),this.emitBeforeViewRender()},e.prototype.emitBeforeViewRender=function(){this.hours&&this.view&&this.beforeViewRender.emit({body:{hourGrid:this.hours,allDayEvents:this.view.allDayEvents},period:this.view.period})},e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-day-view",template:'\n    <div class="cal-day-view">\n      <div\n        class="cal-all-day-events"\n        mwlDroppable\n        dragOverClass="cal-drag-over"\n        dragActiveClass="cal-drag-active"\n        (drop)="eventDropped($event, view.period.start, true)"\n      >\n        <mwl-calendar-day-view-event\n          *ngFor="let event of view.allDayEvents; trackBy: trackByEventId"\n          [ngClass]="event.cssClass"\n          [dayEvent]="{ event: event }"\n          [tooltipPlacement]="tooltipPlacement"\n          [tooltipTemplate]="tooltipTemplate"\n          [tooltipAppendToBody]="tooltipAppendToBody"\n          [tooltipDelay]="tooltipDelay"\n          [customTemplate]="eventTemplate"\n          [eventTitleTemplate]="eventTitleTemplate"\n          [eventActionsTemplate]="eventActionsTemplate"\n          (eventClicked)="eventClicked.emit({ event: event })"\n          [class.cal-draggable]="!snapDraggedEvents && event.draggable"\n          mwlDraggable\n          dragActiveClass="cal-drag-active"\n          [dropData]="{ event: event, calendarId: calendarId }"\n          [dragAxis]="{\n            x: !snapDraggedEvents && event.draggable,\n            y: !snapDraggedEvents && event.draggable\n          }"\n        >\n        </mwl-calendar-day-view-event>\n      </div>\n      <div\n        class="cal-hour-rows"\n        #dayEventsContainer\n        mwlDroppable\n        (dragEnter)="eventDragEnter = eventDragEnter + 1"\n        (dragLeave)="eventDragEnter = eventDragEnter - 1"\n      >\n        <div class="cal-events">\n          <div\n            #event\n            *ngFor="let dayEvent of view?.events; trackBy: trackByDayEvent"\n            class="cal-event-container"\n            [class.cal-draggable]="dayEvent.event.draggable"\n            [class.cal-starts-within-day]="!dayEvent.startsBeforeDay"\n            [class.cal-ends-within-day]="!dayEvent.endsAfterDay"\n            [ngClass]="dayEvent.event.cssClass"\n            mwlResizable\n            [resizeSnapGrid]="{\n              top: eventSnapSize || hourSegmentHeight,\n              bottom: eventSnapSize || hourSegmentHeight\n            }"\n            [validateResize]="validateResize"\n            (resizeStart)="resizeStarted(dayEvent, $event, dayEventsContainer)"\n            (resizing)="resizing(dayEvent, $event)"\n            (resizeEnd)="resizeEnded(dayEvent)"\n            mwlDraggable\n            dragActiveClass="cal-drag-active"\n            [dropData]="{ event: dayEvent.event, calendarId: calendarId }"\n            [dragAxis]="{\n              x:\n                !snapDraggedEvents &&\n                dayEvent.event.draggable &&\n                currentResizes.size === 0,\n              y: dayEvent.event.draggable && currentResizes.size === 0\n            }"\n            [dragSnapGrid]="\n              snapDraggedEvents ? { y: eventSnapSize || hourSegmentHeight } : {}\n            "\n            [validateDrag]="validateDrag"\n            (dragStart)="dragStarted(event, dayEventsContainer)"\n            (dragging)="dragMove()"\n            (dragEnd)="dragEnded(dayEvent, $event)"\n            [style.marginTop.px]="dayEvent.top"\n            [style.height.px]="dayEvent.height"\n            [style.marginLeft.px]="dayEvent.left + 70"\n            [style.width.px]="dayEvent.width - 1"\n          >\n            <div\n              class="cal-resize-handle cal-resize-handle-before-start"\n              *ngIf="\n                dayEvent.event?.resizable?.beforeStart &&\n                !dayEvent.startsBeforeDay\n              "\n              mwlResizeHandle\n              [resizeEdges]="{ top: true }"\n            ></div>\n            <mwl-calendar-day-view-event\n              [dayEvent]="dayEvent"\n              [tooltipPlacement]="tooltipPlacement"\n              [tooltipTemplate]="tooltipTemplate"\n              [tooltipAppendToBody]="tooltipAppendToBody"\n              [tooltipDelay]="tooltipDelay"\n              [customTemplate]="eventTemplate"\n              [eventTitleTemplate]="eventTitleTemplate"\n              [eventActionsTemplate]="eventActionsTemplate"\n              (eventClicked)="eventClicked.emit({ event: dayEvent.event })"\n            >\n            </mwl-calendar-day-view-event>\n            <div\n              class="cal-resize-handle cal-resize-handle-after-end"\n              *ngIf="\n                dayEvent.event?.resizable?.afterEnd && !dayEvent.endsAfterDay\n              "\n              mwlResizeHandle\n              [resizeEdges]="{ bottom: true }"\n            ></div>\n          </div>\n        </div>\n        <div\n          class="cal-hour"\n          *ngFor="let hour of hours; trackBy: trackByHour"\n          [style.minWidth.px]="view?.width + 70"\n        >\n          <mwl-calendar-day-view-hour-segment\n            *ngFor="let segment of hour.segments; trackBy: trackByHourSegment"\n            [style.height.px]="hourSegmentHeight"\n            [segment]="segment"\n            [segmentHeight]="hourSegmentHeight"\n            [locale]="locale"\n            [customTemplate]="hourSegmentTemplate"\n            (mwlClick)="hourSegmentClicked.emit({ date: segment.date })"\n            [clickListenerDisabled]="hourSegmentClicked.observers.length === 0"\n            mwlDroppable\n            dragOverClass="cal-drag-over"\n            dragActiveClass="cal-drag-active"\n            (drop)="eventDropped($event, segment.date, false)"\n          >\n          </mwl-calendar-day-view-hour-segment>\n        </div>\n      </div>\n    </div>\n  '}]}],e.ctorParameters=function(){return[{type:s.ChangeDetectorRef},{type:G},{type:String,decorators:[{type:s.Inject,args:[s.LOCALE_ID]}]},{type:y}]},e.propDecorators={viewDate:[{type:s.Input}],events:[{type:s.Input}],hourSegments:[{type:s.Input}],hourSegmentHeight:[{type:s.Input}],dayStartHour:[{type:s.Input}],dayStartMinute:[{type:s.Input}],dayEndHour:[{type:s.Input}],dayEndMinute:[{type:s.Input}],eventWidth:[{type:s.Input}],refresh:[{type:s.Input}],locale:[{type:s.Input}],eventSnapSize:[{type:s.Input}],tooltipPlacement:[{type:s.Input}],tooltipTemplate:[{type:s.Input}],tooltipAppendToBody:[{type:s.Input}],tooltipDelay:[{type:s.Input}],hourSegmentTemplate:[{type:s.Input}],eventTemplate:[{type:s.Input}],eventTitleTemplate:[{type:s.Input}],eventActionsTemplate:[{type:s.Input}],snapDraggedEvents:[{type:s.Input}],eventClicked:[{type:s.Output}],hourSegmentClicked:[{type:s.Output}],eventTimesChanged:[{type:s.Output}],beforeViewRender:[{type:s.Output}]},e}(),ve=function(){function e(){}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-day-view-hour-segment",template:'\n    <ng-template\n      #defaultTemplate\n      let-segment="segment"\n      let-locale="locale"\n      let-segmentHeight="segmentHeight"\n    >\n      <div\n        class="cal-hour-segment"\n        [style.height.px]="segmentHeight"\n        [class.cal-hour-start]="segment.isStart"\n        [class.cal-after-hour-start]="!segment.isStart"\n        [ngClass]="segment.cssClass"\n      >\n        <div class="cal-time">\n          {{ segment.date | calendarDate: \'dayViewHour\':locale }}\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        segment: segment,\n        locale: locale,\n        segmentHeight: segmentHeight\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={segment:[{type:s.Input}],segmentHeight:[{type:s.Input}],locale:[{type:s.Input}],customTemplate:[{type:s.Input}]},e}(),ye=function(){function e(){this.eventClicked=new s.EventEmitter}return e.decorators=[{type:s.Component,args:[{selector:"mwl-calendar-day-view-event",template:'\n    <ng-template\n      #defaultTemplate\n      let-dayEvent="dayEvent"\n      let-tooltipPlacement="tooltipPlacement"\n      let-eventClicked="eventClicked"\n      let-tooltipTemplate="tooltipTemplate"\n      let-tooltipAppendToBody="tooltipAppendToBody"\n      let-tooltipDelay="tooltipDelay"\n    >\n      <div\n        class="cal-event"\n        [ngStyle]="{\n          backgroundColor: dayEvent.event.color?.secondary,\n          borderColor: dayEvent.event.color?.primary\n        }"\n        [mwlCalendarTooltip]="\n          dayEvent.event.title | calendarEventTitle: \'dayTooltip\':dayEvent.event\n        "\n        [tooltipPlacement]="tooltipPlacement"\n        [tooltipEvent]="dayEvent.event"\n        [tooltipTemplate]="tooltipTemplate"\n        [tooltipAppendToBody]="tooltipAppendToBody"\n        [tooltipDelay]="tooltipDelay"\n        (mwlClick)="eventClicked.emit()"\n      >\n        <mwl-calendar-event-actions\n          [event]="dayEvent.event"\n          [customTemplate]="eventActionsTemplate"\n        >\n        </mwl-calendar-event-actions>\n        &ngsp;\n        <mwl-calendar-event-title\n          [event]="dayEvent.event"\n          [customTemplate]="eventTitleTemplate"\n          view="day"\n        >\n        </mwl-calendar-event-title>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]="customTemplate || defaultTemplate"\n      [ngTemplateOutletContext]="{\n        dayEvent: dayEvent,\n        tooltipPlacement: tooltipPlacement,\n        eventClicked: eventClicked,\n        tooltipTemplate: tooltipTemplate,\n        tooltipAppendToBody: tooltipAppendToBody,\n        tooltipDelay: tooltipDelay\n      }"\n    >\n    </ng-template>\n  '}]}],e.propDecorators={dayEvent:[{type:s.Input}],tooltipPlacement:[{type:s.Input}],tooltipAppendToBody:[{type:s.Input}],customTemplate:[{type:s.Input}],eventTitleTemplate:[{type:s.Input}],eventActionsTemplate:[{type:s.Input}],tooltipTemplate:[{type:s.Input}],tooltipDelay:[{type:s.Input}],eventClicked:[{type:s.Output}]},e}(),he=function(){function e(){}return e.decorators=[{type:s.NgModule,args:[{imports:[p.CommonModule,r.ResizableModule,l.DragAndDropModule,X],declarations:[ue,ve,ye],exports:[r.ResizableModule,l.DragAndDropModule,ue,ve,ye]}]}],e}(),me=function(){function n(){}return n.forRoot=function(e,t){return void 0===t&&(t={}),{ngModule:n,providers:[e,t.eventTitleFormatter||L,t.dateFormatter||F,t.utils||G]}},n.decorators=[{type:s.NgModule,args:[{imports:[X,ie,ce,he],exports:[X,ie,ce,he]}]}],n}();e.DAYS_OF_WEEK=n.DAYS_OF_WEEK,e.CalendarModule=me,e.CalendarCommonModule=X,e.CalendarEventTitleFormatter=L,e.MOMENT=U,e.CalendarMomentDateFormatter=K,e.CalendarNativeDateFormatter=J,e.CalendarAngularDateFormatter=P,e.CalendarDateFormatter=F,e.CalendarUtils=G,e.CalendarEventTimesChangedEventType=Q,e.DateAdapter=y,e.CalendarView=h,e.CalendarMonthViewComponent=Z,e.collapseAnimation=ne,e.CalendarMonthModule=ie,e.CalendarWeekViewComponent=le,e.getWeekViewPeriod=R,e.CalendarWeekModule=ce,e.CalendarDayViewComponent=ue,e.CalendarDayModule=he,e.i=j,e.b=d,e.c=c,e.j=$,e.g=W,e.f=x,e.h=V,e.e=v,e.d=u,e.k=q,e.r=ye,e.q=ve,e.l=te,e.m=ee,e.a=ae,e.o=de,e.n=se,e.p=pe,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-calendar.umd.min.js.map